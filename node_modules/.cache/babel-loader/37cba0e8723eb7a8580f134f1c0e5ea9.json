{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\app-apd\\\\src\\\\Pages\\\\Payment\\\\index.js\";\nimport React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport { Card } from \"react-bootstrap\";\n\nclass PaymentPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      redirect_url: null,\n      token: null,\n      order_id: 0\n    };\n  }\n\n  componentDidMount() {\n    this.process(this.props.states);\n  } // randomizer(length) {\n  //   var result = \"\";\n  //   var characters =\n  //     \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n  //   var charactersLength = characters.length;\n  //   for (var i = 0; i < length; i++) {\n  //     result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  //   }\n  //   return result;\n  // }\n\n\n  process(param) {\n    const formOne = param.form_1;\n    const account = param.midtrans_account;\n    const simedis = param.simedis;\n    const url = account.api_url;\n    const data = {\n      transaction_details: {\n        order_id: simedis.bill_code,\n        gross_amount: simedis.bill_amount\n      },\n      customer_details: {\n        first_name: formOne.first_name,\n        last_name: formOne.last_name,\n        email: formOne.email,\n        phone: formOne.phone_number\n      },\n      enabled_payments: account.enabled_payments,\n      gopay: {\n        enable_callback: true,\n        callback_url: \"https://app-apd.herokuapp.com/payment/finish\"\n      }\n    };\n    const config = {\n      auth: {\n        username: account.server_key,\n        password: \"\"\n      },\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: account.server_key + \":\"\n      }\n    };\n\n    (async () => {\n      try {\n        const response = await this.props.postApi(url, data, config);\n        this.setState({\n          redirect_url: response.data.redirect_url,\n          token: response.data.token\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }\n\n  render() {\n    if (this.state.redirect_url !== null) {\n      window.location.assign(this.state.redirect_url); // window.snap.pay(this.state.token);\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, console.log(\"render halaman\"), /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, \"PAYMENT\"), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Card.Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, \"Redirecting to Midtrans\"), /*#__PURE__*/React.createElement(Card.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      style: {\n        width: \"100%\",\n        height: \"100\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      type: \"ThreeDots\",\n      color: \"#2BAD60\",\n      height: \"100\",\n      width: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }))))));\n  }\n\n}\n\nexport default PaymentPage;","map":{"version":3,"sources":["D:/project/app-apd/src/Pages/Payment/index.js"],"names":["React","Component","Loader","Card","PaymentPage","constructor","props","state","redirect_url","token","order_id","componentDidMount","process","states","param","formOne","form_1","account","midtrans_account","simedis","url","api_url","data","transaction_details","bill_code","gross_amount","bill_amount","customer_details","first_name","last_name","email","phone","phone_number","enabled_payments","gopay","enable_callback","callback_url","config","auth","username","server_key","password","headers","Accept","Authorization","response","postApi","setState","err","console","log","render","window","location","assign","width","height","display","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport { Card } from \"react-bootstrap\";\r\n\r\nclass PaymentPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { redirect_url: null, token: null, order_id: 0 };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.process(this.props.states);\r\n  }\r\n\r\n  // randomizer(length) {\r\n  //   var result = \"\";\r\n  //   var characters =\r\n  //     \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  //   var charactersLength = characters.length;\r\n  //   for (var i = 0; i < length; i++) {\r\n  //     result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n  //   }\r\n  //   return result;\r\n  // }\r\n\r\n  process(param) {\r\n    const formOne = param.form_1;\r\n    const account = param.midtrans_account;\r\n    const simedis = param.simedis;\r\n\r\n    const url = account.api_url;\r\n    const data = {\r\n      transaction_details: {\r\n        order_id: simedis.bill_code,\r\n        gross_amount: simedis.bill_amount,\r\n      },\r\n      customer_details: {\r\n        first_name: formOne.first_name,\r\n        last_name: formOne.last_name,\r\n        email: formOne.email,\r\n        phone: formOne.phone_number,\r\n      },\r\n      enabled_payments: account.enabled_payments,\r\n      gopay: {\r\n        enable_callback: true,\r\n        callback_url: \"https://app-apd.herokuapp.com/payment/finish\",\r\n      },\r\n    };\r\n\r\n    const config = {\r\n      auth: {\r\n        username: account.server_key,\r\n        password: \"\",\r\n      },\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: account.server_key + \":\",\r\n      },\r\n    };\r\n\r\n    (async () => {\r\n      try {\r\n        const response = await this.props.postApi(url, data, config);\r\n        this.setState({\r\n          redirect_url: response.data.redirect_url,\r\n          token: response.data.token,\r\n        });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    })();\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirect_url !== null) {\r\n      window.location.assign(this.state.redirect_url);\r\n      // window.snap.pay(this.state.token);\r\n    }\r\n    return (\r\n      <div>\r\n        {console.log(\"render halaman\")}\r\n        <Card>\r\n          <Card.Header>PAYMENT</Card.Header>\r\n          <Card.Body>\r\n            <Card>\r\n              <Card.Header>Redirecting to Midtrans</Card.Header>\r\n              <Card.Body>\r\n                <Loader\r\n                  style={{\r\n                    width: \"100%\",\r\n                    height: \"100\",\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                  type=\"ThreeDots\"\r\n                  color=\"#2BAD60\"\r\n                  height=\"100\"\r\n                  width=\"100\"\r\n                />\r\n              </Card.Body>\r\n            </Card>\r\n          </Card.Body>\r\n        </Card>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PaymentPage;\r\n"]},"metadata":{},"sourceType":"module"}